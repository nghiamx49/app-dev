(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),s=n(18),c=n.n(s),o=n(2),i=n.n(o),l=n(9),u=n(5),j=n(3),b=n(4),d={login:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://20.37.50.119/api/auth/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:if(401===(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.abrupt("return",{isAuthenticated:!1,user:{user:"",role:""}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://20.37.50.119/api/auth/logout");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),isAuthenticated:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://20.37.50.119/api/auth/authenticated");case 3:if(401===(t=e.sent).status){e.next=11;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.abrupt("return",{isAuthenticated:!1,user:{user:"",role:""}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},h=Object(a.createContext)(),m=function(e){var t=e.children,n=Object(a.useState)(null),s=Object(b.a)(n,2),c=s[0],o=s[1],l=Object(a.useState)(!1),u=Object(b.a)(l,2),m=u[0],p=u[1],x=Object(a.useState)(!1),f=Object(b.a)(x,2),O=f[0],g=f[1],v=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.isAuthenticated();case 3:t=e.sent,o(t.user),p(t.isAuthenticated),g(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),Object(r.jsx)("div",{children:O?Object(r.jsx)(h.Provider,{value:{user:c,setUser:o,isAuthenticated:m,setIsAuthenticated:p},children:t}):Object(r.jsxs)("div",{className:"container",style:{marginTop:"350px"},children:[Object(r.jsx)("h1",{className:"text-center",children:"Loading"}),Object(r.jsxs)("div",{className:"d-flex justify-content-center align-content-center",children:[Object(r.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-secondary",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-success",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-danger",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-warning",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-dark",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("div",{className:"spinner-grow text-light",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]})})},p=function(e){return Object(r.jsx)("div",{className:function(){var t="alert ";return e.message.mesError?t+="alert-danger":t+="alert-primary",t+" text-center"}(),role:"alert",children:e.message.mesBody})},x=(n(34),function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(null),m=Object(b.a)(o,2),x=m[0],f=m[1],O=Object(a.useContext)(h),g=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Object(u.a)(Object(u.a)({},s),{},Object(l.a)({},t.target.name,t.target.value)));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=Object(j.a)(i.a.mark((function t(n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,""!==s.username||""!==s.password){t.next=5;break}return f({mesBody:"username and password cannot empty",mesError:!0}),t.abrupt("return");case 5:if(""!==s.username){t.next=8;break}return f({mesBody:"username cannot empty",mesError:!0}),t.abrupt("return");case 8:if(""!==s.password){t.next=11;break}return f({mesBody:"password cannot empty",mesError:!0}),t.abrupt("return");case 11:return t.next=13,d.login(s);case 13:r=t.sent,(a=r.isAuthenticated)?(O.setUser(r.user),O.setIsAuthenticated(a),"admin"===r.user.role?e.history.push("/admin"):e.history.push("/home")):f({mesBody:"login failed. Please check your account",mesError:!0}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto",children:Object(r.jsx)("div",{className:"card card0 border-0",children:Object(r.jsxs)("div",{className:"row d-flex",children:[Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsx)("div",{className:"card1 pb-5",children:Object(r.jsx)("div",{className:"row px-3 justify-content-center mt-4 mb-5 border-line",children:Object(r.jsx)("img",{src:"https://i.imgur.com/uNGdWHi.png",alt:"image",class:"image"})})})}),Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsxs)("div",{class:"card2 card border-0 px-4 py-5",children:[Object(r.jsx)("h3",{className:"text-center text-dark",children:"TAM Application"}),Object(r.jsxs)("div",{class:"row px-3 mb-4",children:[Object(r.jsx)("div",{class:"line"})," ",Object(r.jsx)("div",{class:"line"})]}),Object(r.jsxs)("div",{class:"row px-3",children:[" ",Object(r.jsx)("label",{class:"mb-1",children:Object(r.jsx)("h6",{class:"mb-0 text-sm",children:"Username"})})," ",Object(r.jsx)("input",{class:"mb-4",type:"text",name:"username",onChange:g,placeholder:"Enter your username"})," "]}),Object(r.jsxs)("div",{class:"row px-3",children:[" ",Object(r.jsx)("label",{class:"mb-1",children:Object(r.jsx)("h6",{class:"mb-0 text-sm",children:"Password"})})," ",Object(r.jsx)("input",{type:"password",name:"password",onChange:g,placeholder:"Enter password"})," "]}),Object(r.jsxs)("div",{class:"row px-3 mb-4",children:[Object(r.jsxs)("div",{class:"custom-control custom-checkbox custom-control-inline",children:[" ",Object(r.jsx)("input",{id:"chk1",type:"checkbox",name:"chk",class:"custom-control-input"})," "]})," "]}),Object(r.jsxs)("div",{class:"row mb-3 px-3",children:[" ",Object(r.jsx)("button",{onClick:v,class:"btn btn-blue text-center",children:"Login"})," "]}),x?Object(r.jsx)(p,{message:x}):null,Object(r.jsx)("div",{class:"row mb-4 px-3",children:" "})]})})]})})})}),f=n(19),O=n(12),g=function(e){var t=Object(a.useContext)(h).user;return Object(r.jsx)("div",{className:"container",style:{margin:"300px"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)("div",{className:"error-template",children:[Object(r.jsx)("h1",{children:"Oops!"}),Object(r.jsx)("h2",{children:e.error.status}),Object(r.jsx)("div",{className:"error-details",children:e.error.mesBody}),Object(r.jsx)("div",{className:"error-actions",children:"admin"===t.role?Object(r.jsxs)("a",{href:"http://localhost:3000/admin",className:"btn btn-primary btn-lg",children:[Object(r.jsx)("i",{className:"fas fa-home"}),"Take Me Home"]}):Object(r.jsxs)("a",{href:"http://localhost:3000/home",className:"btn btn-primary btn-lg",children:[Object(r.jsx)("i",{className:"fas fa-home"}),"Take Me Home"]})})]})})})})},v=function(e){var t=e.component,n=e.roles,s=Object(f.a)(e,["component","roles"]),c=Object(a.useContext)(h),o=c.isAuthenticated,i=c.user;return Object(r.jsx)(O.b,Object(u.a)(Object(u.a)({},s),{},{render:function(e){return o?n.includes(i.role)?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(g,{error:{status:"403 Unauthorized",mesBody:"Sorry, you don't have permisson to access this page"}}):Object(r.jsx)(O.a,{to:{pathname:"/",state:e.location}})}}))},w=n(10),y=n(43),C=n(44),N=function(e){var t=e.user,n=e.role;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"User Profile"})}),Object(r.jsx)(y.a.Body,{children:"trainee"===n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Day Of Birth:"}),"\xa0",t.dateOfBirth,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Age:"}),"\xa0",t.age,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",t.email,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Programming:"}),"\xa0",t.programming,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"TOEIC Score:"}),"\xa0",t.TOEICScore,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Experiences:"}),"\xa0",t.experienceDetails,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Department:"}),"\xa0",t.department,Object(r.jsx)("br",{})]}):"trainer"===n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",t.email,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",t.workingPlace,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone Number:"}),"\xa0",t.phoneNumber,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",t.type,Object(r.jsx)("br",{})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Role:"}),"\xa0",t.role,Object(r.jsx)("br",{})]})}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},k=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Account Password"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Old Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"oldPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"New Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"newPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Confirm Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"confirmPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Change Password"})]}),c?Object(r.jsx)(p,{message:c}):null]})},S={getOwnRelatedCourses:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/profile/".concat(t,"/relatedcourses"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),getDetailOwnRelatedCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/profile/".concat(t,"/relatedcourses/detail/").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),getProfileDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/profile/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),changeProfilePassword:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/profile/changepassword/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},B=function(e){var t=Object(a.useContext)(h),n=t.isAuthenticated,s=t.user,c=t.setIsAuthenticated,o=t.setUser,m=Object(a.useState)(!1),p=Object(b.a)(m,2),x=p[0],f=p[1],O=Object(a.useState)(!1),g=Object(b.a)(O,2),v=g[0],y=g[1],C=Object(a.useState)({}),B=Object(b.a)(C,2),E=B[0],T=B[1],P=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),D=Object(b.a)(P,2),A=D[0],H=D[1],_=Object(a.useState)(null),F=Object(b.a)(_,2),U=F[0],I=F[1],R=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getProfileDetail(s._id);case 2:t=e.sent,T(t.message.userInfo);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R()}),[]);var J=function(){var e=Object(j.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A.oldPassword&&A.newPassword&&A.confirmPassword){e.next=6;break}return I({mesBody:"fields cannot empty",mesError:!0}),e.abrupt("return");case 6:if(A.oldPassword!==A.newPassword){e.next=11;break}return I({mesBody:"new password cannot the same with old password",mesError:!0}),e.abrupt("return");case 11:if(A.newPassword===A.confirmPassword){e.next=14;break}return I({mesBody:"confirm password is wrong",mesError:!0}),e.abrupt("return");case 14:return e.next=16,S.changeProfilePassword(s._id,{oldPassword:A.oldPassword,newPassword:A.newPassword});case 16:t=e.sent,n=t.message,r=t.mesError,I({mesBody:n.mesBody,mesError:r}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),M=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/admin/trainer",children:Object(r.jsx)("div",{className:"nav-link",children:"Trainer"})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/admin/staff",children:Object(r.jsx)("div",{className:"nav-link",children:"Training's Staff"})})})]})},W=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/trainer",children:Object(r.jsx)("div",{className:"nav-link",children:"Trainer"})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/trainee",children:Object(r.jsx)("div",{className:"nav-link",children:"Trainee"})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/courses",children:Object(r.jsx)("div",{className:"nav-link",children:"Courses"})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/categories",children:Object(r.jsx)("div",{className:"nav-link",children:"Categories"})})})]})},z=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/relatedcourses",children:Object(r.jsx)("div",{className:"nav-link",children:"Related Courses"})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/courses",children:Object(r.jsx)("div",{className:"nav-link",children:"All Course"})})})]})},G=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(w.b,{to:"/home/relatedcourses",children:Object(r.jsx)("div",{className:"nav-link",children:"Related Courses"})})})})},q=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.logout();case 3:(t=e.sent).success&&(o(t.user),c(!1),alert("Logout success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)("nav",{className:"navbar navbar-dark navbar-expand-md bg-dark navigation-clean-button sticky-top",children:Object(r.jsxs)("div",{className:"container",children:["admin"===e.role||"admin"===s.role?Object(r.jsx)(w.b,{to:"/admin",children:Object(r.jsx)("div",{className:"navbar-brand",children:"TAM application"})}):Object(r.jsx)(w.b,{to:"/home",children:Object(r.jsx)("div",{className:"navbar-brand",children:"TAM application"})}),Object(r.jsxs)("button",{"data-toggle":"collapse","data-target":"#navcol-1",className:"navbar-toggler",children:[Object(r.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),Object(r.jsx)("span",{className:"navbar-toggler-icon"})]}),Object(r.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarToggleExternalContent",children:[Object(r.jsx)("ul",{className:"nav navbar-nav mr-auto",children:"admin"===e.role||"admin"===s.role?M():"staff"===e.role||"staff"===s.role?W():"trainer"===e.role||"trainer"===s.role?G():"trainee"===e.role||"trainee"===s.role?z():null}),n?Object(r.jsxs)("span",{className:"navbar-text actions",children:[Object(r.jsx)("button",{className:"btn btn-dark",onClick:J,children:"Hello, "+s.username}),Object(r.jsx)(N,{user:E,role:s.role,show:x,handleClose:function(){f(!1)}}),"admin"===s.role?null:Object(r.jsxs)(r.Fragment,{children:["\xa0 \xa0",Object(r.jsx)("button",{className:"btn btn-dark",onClick:L,children:"Change Password"}),Object(r.jsx)(k,{show:v,handleChange:function(e){e.preventDefault(),H(Object(u.a)(Object(u.a)({},A),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){y(!1),I(null),H({})},handleSubmit:function(){return V()},message:U})]}),"\xa0 \xa0",Object(r.jsx)(w.b,{to:"/",children:Object(r.jsx)("div",{className:"btn btn-dark action-button",role:"button",onClick:q,children:"Logout"})})]}):null]})]})})},E={margin:"100px"},T={paddingBottom:"10px"},P=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:E,children:["staff"===e.role?Object(r.jsxs)("div",{className:"input-group",style:T,children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"search",id:"form1",className:"form-control",placeholder:"search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",children:Object(r.jsx)("i",{className:"fas fa-search"})})]}):null,Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:e.list?e.list.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.name}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]})]})]},e._id)})):null})]})]})})},D=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{children:Object(r.jsx)("footer",{className:"footer footer-dark",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-sm-6 col-md-3 item",children:[Object(r.jsx)("h3",{children:"Services"}),Object(r.jsx)("ul",{children:Object(r.jsx)("div",{children:"Web design"})})]}),Object(r.jsxs)("div",{className:"col-sm-6 col-md-3 item",children:[Object(r.jsx)("h3",{children:"About"}),Object(r.jsx)("ul",{children:Object(r.jsx)("div",{children:"FPT Co"})})]}),Object(r.jsxs)("div",{className:"col-md-6 item text",children:[Object(r.jsx)("h3",{children:"TAM Application"}),Object(r.jsx)("p",{children:"Application for demonstrating a training activity management application of FPT Co."})]})]}),Object(r.jsx)("p",{className:"copyright",children:"TAM Application \xa9 2021"})]})})})})},A=function(){var e=Object(a.useContext)(h).user,t=Object(a.useState)(null),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)([]),i=Object(b.a)(o,2),l=i[0];i[1];return Object(a.useEffect)((function(){c(e.role)}),[]),console.log(l),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{role:s}),Object(r.jsx)(P,{list:[],role:{}}),Object(r.jsx)(D,{})]})},H=function(){var e=Object(a.useContext)(h).user,t=Object(a.useState)(null),n=Object(b.a)(t,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){c(e.role)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{role:s}),Object(r.jsx)(P,{}),Object(r.jsx)(D,{})]})},_=function(e){var t=e.user;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Trainer Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",t.email,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",t.workingPlace,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone Number:"}),"\xa0",t.phoneNumber,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",t.type,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},F=function(e){var t=e.user,n=e.show,a=e.handleClose,s=e.handleChange,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Trainer Account"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",value:t.name,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",Object(r.jsx)("input",{type:"email",name:"email",className:"form-control",value:t.email,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"workingPlace",className:"form-control",value:t.workingPlace,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone NumBer:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"phoneNumber",className:"form-control",value:t.phoneNumber,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",Object(r.jsxs)("select",{className:"form-control",name:"type",onChange:s,defaultValue:t.type,children:[Object(r.jsx)("option",{value:"Internal Type",children:"Internal Type"}),Object(r.jsx)("option",{value:"External Type",children:"External Type"})]}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},U=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Create New Trainer Account"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("form",{className:"form-group",children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Password"}),"\xa0",Object(r.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"name",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",Object(r.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"workingPlace",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone NumBer:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"phoneNumber",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",Object(r.jsxs)("select",{className:"form-control",name:"type",defaultValue:"",onChange:a,children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Choose A Type"}),Object(r.jsx)("option",{value:"Internal Type",children:"Internal Type"}),Object(r.jsx)("option",{value:"External Type",children:"External Type"})]}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Create"})]}),c?Object(r.jsx)(p,{message:c}):null]})},I=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Delete Trainer Account"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to delete the ",Object(r.jsx)("strong",{children:e.user.username})," ","account"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Delete"})]}),s?Object(r.jsx)(p,{message:s}):null]})},R=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Trainer Account Password"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Old Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"oldPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"New Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"newPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Confirm Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"confirmPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Change Password"})]}),c?Object(r.jsx)(p,{message:c}):null]})},J={allTrainer:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),trainerDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer/detail/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),trainerCreate:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),trainerEdit:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer/edit/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),trainerDelete:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),trainerChangePass:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/trainer/changepassword/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),allStaff:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),staffDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff/detail/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),staffCreate:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),staffEdit:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff/edit/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),staffDelete:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),staffChangePass:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/admin/staff/changepassword/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},L={margin:"100px"},V=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),d=Object(b.a)(o,2),h=d[0],m=d[1],p=Object(a.useState)(!1),x=Object(b.a)(p,2),f=x[0],O=x[1],g=Object(a.useState)(!1),v=Object(b.a)(g,2),w=v[0],y=v[1],C=Object(a.useState)(!1),N=Object(b.a)(C,2),k=N[0],S=N[1],E=Object(a.useState)([]),T=Object(b.a)(E,2),P=T[0],A=T[1],H=Object(a.useState)(null),V=Object(b.a)(H,2),M=V[0],W=V[1],z=Object(a.useState)({}),G=Object(b.a)(z,2),q=G[0],K=G[1],Q=Object(a.useState)({username:"",password:"",name:"",workingPlace:"",phoneNumber:"",email:"",type:""}),X=Object(b.a)(Q,2),Y=X[0],Z=X[1],$=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:c(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){c(!1)},se=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.trainerDetail(t);case 2:n=e.sent,K(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/admin/trainer");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,A(n.message.trainers);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){e.preventDefault(),K(Object(u.a)(Object(u.a)({},q),{},Object(l.a)({},e.target.name,e.target.value)))},ie=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:m(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){m(!1),ce(),W(null)},ue=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==q.username){e.next=6;break}return W({mesBody:"username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(!0!==isNaN(q.phoneNumber)){e.next=9;break}return W({mesBody:"phone number must be number",mesError:!0}),e.abrupt("return");case 9:return e.next=11,J.trainerEdit(t,q);case 11:n=e.sent,r=n.message,a=n.mesError,W({mesBody:r.mesBody,mesError:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==Y.username){e.next=6;break}return W({mesBody:"username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==Y.password){e.next=11;break}return W({mesBody:"password cannot empty",mesError:!0}),e.abrupt("return");case 11:if(!0!==isNaN(Y.phoneNumber)){e.next=16;break}return W({mesBody:"phone number must be number",mesError:!0}),e.abrupt("return");case 16:if("External Type"===Y.type||"Internal Type"===Y.type){e.next=19;break}return W({mesBody:"trainer type must be chose",mesError:!0}),e.abrupt("return");case 19:return e.next=21,J.trainerCreate(Y);case 21:t=e.sent,n=t.message,r=t.mesError,W({mesBody:n.mesBody,mesError:r}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:y(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){y(!1),ce(),W(null)},he=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.trainerDelete(t);case 3:n=e.sent,r=n.message,a=n.mesError,W({mesBody:r.mesBody,mesError:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){e.preventDefault(),ne(Object(u.a)(Object(u.a)({},te),{},Object(l.a)({},e.target.name,e.target.value)))},pe=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:S(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){S(!1),ce(),W(null),ne({})},fe=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,te.oldPassword&&te.newPassword&&te.confirmPassword){e.next=6;break}return W({mesBody:"fields cannot empty",mesError:!0}),e.abrupt("return");case 6:if(te.oldPassword!==te.newPassword){e.next=11;break}return W({mesBody:"new password cannot the same with old password",mesError:!0}),e.abrupt("return");case 11:if(te.newPassword===te.confirmPassword){e.next=14;break}return W({mesBody:"confirm password is wrong",mesError:!0}),e.abrupt("return");case 14:return e.next=16,J.trainerChangePass(t,{oldPassword:te.oldPassword,newPassword:te.newPassword});case 16:n=e.sent,r=n.message,a=n.mesError,W({mesBody:r.mesBody,mesError:a}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ce()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:L,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Trainer"}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:P.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.name}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return re(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(_,{user:q,show:s,handleClose:ae}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return ie(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(F,{show:h,user:q,handleClose:le,handleChange:oe,handleSubmit:function(e){return ue(q._id)},message:M}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return be(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]}),Object(r.jsx)(I,{show:w,user:q,handleClose:de,handleSubmit:function(e){return he(q._id)},message:M}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-warning",onClick:function(t){return pe(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-key"}),"\xa0Change Password"]}),Object(r.jsx)(R,{show:k,handleChange:me,handleClose:xe,handleSubmit:function(){return fe(q._id)},message:M})]})]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(e){O(!0)},children:"Create"}),Object(r.jsx)(U,{show:f,handleChange:function(e){e.preventDefault(),Z(Object(u.a)(Object(u.a)({},Y),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){O(!1),ce(),Z({username:"",password:"",name:"",workingPlace:"",phoneNumber:"",email:"",type:""}),W(null)},handleSubmit:je,message:M})]})})]}),Object(r.jsx)(D,{})]})},M=function(e){var t=e.user;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Staff Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Staff ID:"}),"\xa0",t._id,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Role:"}),"\xa0",t.role,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},W=function(e){var t=e.user,n=e.show,a=e.handleClose,s=e.handleChange,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Staff Account"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",value:t.name,onChange:s})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},z=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Create New Staff Account"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("form",{className:"form-group",children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Password"}),"\xa0",Object(r.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",className:"form-control",name:"name",onChange:a}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Create"})]}),c?Object(r.jsx)(p,{message:c}):null]})},G=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Delete Staff Account"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to delete the ",Object(r.jsx)("strong",{children:e.user.username})," ","account"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Delete"})]}),s?Object(r.jsx)(p,{message:s}):null]})},q=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Staff Account Password"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Old Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"oldPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"New Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"newPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Confirm Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"confirmPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Change Password"})]}),c?Object(r.jsx)(p,{message:c}):null]})},K={margin:"100px"},Q=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),d=Object(b.a)(o,2),h=d[0],m=d[1],p=Object(a.useState)(!1),x=Object(b.a)(p,2),f=x[0],O=x[1],g=Object(a.useState)(!1),v=Object(b.a)(g,2),w=v[0],y=v[1],C=Object(a.useState)(!1),N=Object(b.a)(C,2),k=N[0],S=N[1],E=Object(a.useState)([]),T=Object(b.a)(E,2),P=T[0],A=T[1],H=Object(a.useState)(null),_=Object(b.a)(H,2),F=_[0],U=_[1],I=Object(a.useState)({}),R=Object(b.a)(I,2),L=R[0],V=R[1],Q=Object(a.useState)({username:"",password:"",name:""}),X=Object(b.a)(Q,2),Y=X[0],Z=X[1],$=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:c(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){c(!1)},se=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.staffDetail(t);case 2:n=e.sent,V(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.allStaff();case 2:t=e.sent,A(t.message.staffs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){e.preventDefault(),V(Object(u.a)(Object(u.a)({},L),{},Object(l.a)({},e.target.name,e.target.value)))},ie=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:m(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){m(!1),ce(),U(null)},ue=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==L.username){e.next=6;break}return U({mesBody:"Username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==L.name){e.next=9;break}return U({mesBody:"Name cannot empty",mesError:!0}),e.abrupt("return");case 9:return e.next=11,J.staffEdit(t,L);case 11:n=e.sent,r=n.message,a=n.mesError,U({mesBody:r.mesBody,mesError:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==Y.username){e.next=6;break}return U({mesBody:"Username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==Y.password){e.next=11;break}return U({mesBody:"Password cannot empty",mesError:!0}),e.abrupt("return");case 11:if(""!==Y.name){e.next=14;break}return U({mesBody:"Name cannot empty",mesError:!0}),e.abrupt("return");case 14:return e.next=16,J.staffCreate(Y);case 16:t=e.sent,n=t.message,r=t.mesError,U({mesBody:n.mesBody,mesError:r}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:y(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){y(!1),ce(),U(null)},he=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.staffDelete(t);case 3:n=e.sent,r=n.message,a=n.mesError,U({mesBody:r.mesBody,mesError:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){e.preventDefault(),ne(Object(u.a)(Object(u.a)({},te),{},Object(l.a)({},e.target.name,e.target.value)))},pe=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:S(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){S(!1),ce(),U(null),ne({})},fe=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,te.oldPassword&&te.newPassword&&te.confirmPassword){e.next=6;break}return U({mesBody:"fields cannot empty",mesError:!0}),e.abrupt("return");case 6:if(te.oldPassword!==te.newPassword){e.next=11;break}return U({mesBody:"new password cannot the same with old password",mesError:!0}),e.abrupt("return");case 11:if(te.newPassword===te.confirmPassword){e.next=14;break}return U({mesBody:"confirm password is wrong",mesError:!0}),e.abrupt("return");case 14:return e.next=16,J.staffChangePass(t,{oldPassword:te.oldPassword,newPassword:te.newPassword});case 16:n=e.sent,r=n.message,a=n.mesError,U({mesBody:r.mesBody,mesError:a}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ce()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:K,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Training's Staff"}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:P.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.name}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return re(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(M,{user:L,show:s,handleClose:ae}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return ie(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(W,{show:h,user:L,handleClose:le,handleChange:oe,handleSubmit:function(e){return ue(L._id)},message:F}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return be(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]}),Object(r.jsx)(G,{show:w,user:L,handleClose:de,handleSubmit:function(e){return he(L._id)},message:F}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-warning",onClick:function(t){return pe(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-key"}),"\xa0Change Password"]}),Object(r.jsx)(q,{show:k,handleChange:me,handleClose:xe,handleSubmit:function(){return fe(L._id)},message:F})]})]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(e){O(!0)},children:"Create"}),Object(r.jsx)(z,{show:f,handleChange:function(e){e.preventDefault(),Z(Object(u.a)(Object(u.a)({},Y),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){O(!1),ce(),Z({username:"",password:"",name:"",workingPlace:"",phoneNumber:"",email:"",type:""}),U(null)},handleSubmit:je,message:F})]})})]}),Object(r.jsx)(D,{})]})},X=function(e){var t=e.item;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Couse Name:"}),"\xa0",t.courseName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Description:"}),"\xa0",t.courseDescription,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Category:"}),"\xa0",t.categoryName,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},Y={margin:"100px"},Z=function(e){var t=Object(a.useContext)(h).user,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],l=Object(a.useState)([]),u=Object(b.a)(l,2),d=u[0],m=u[1],p=Object(a.useState)({}),x=Object(b.a)(p,2),f=x[0],O=x[1],g=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){o(!1)},w=function(){var e=Object(j.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getDetailOwnRelatedCourse(t._id,n);case 2:r=e.sent,O(r.message.relatedCourse);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getOwnRelatedCourses(t._id);case 2:n=e.sent,m(n.message.relatedCourses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:Y,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Training's Staff"}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Course Name"}),Object(r.jsx)("th",{scope:"col",children:"Category"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:d.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.courseName}),Object(r.jsx)("td",{children:e.categoryName}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return g(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(X,{item:f,show:c,handleClose:v})]})]},e._id)}))})]})]}),Object(r.jsx)(D,{})]})},$=function(e){var t=e.item;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Name:"}),"\xa0",t.courseName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Description:"}),"\xa0",t.courseDescription,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Category:"}),"\xa0",t.courseCategory,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},ee=function(e){var t=e.show,n=e.handleClose,a=e.categories,s=e.handleChange,c=e.item,o=e.handleSubmit,i=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"courseName",className:"form-control",value:c.courseName,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Description:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"courseDescription",className:"form-control",value:c.courseDescription,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Cateogry:"}),"\xa0",Object(r.jsx)("select",{name:"courseCategory",className:"form-control",onChange:s,defaultValue:c.courseCategory,children:a.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:o,children:"Save Changes"})]}),i?Object(r.jsx)(p,{message:i}):null]})},te=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.categories,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Create New Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"courseName",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Description:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"courseDescription",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Cateogry:"}),"\xa0",Object(r.jsxs)("select",{className:"form-control",name:"courseCategory",defaultValue:"",onChange:a,children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Choosen A Category"}),s.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))]}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Create"})]}),o?Object(r.jsx)(p,{message:o}):null]})},ne=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Delete Courses"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to delete the ",Object(r.jsx)("strong",{children:e.item.courseName})," ","course"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Delete"})]}),s?Object(r.jsx)(p,{message:s}):null]})},re={getAllCourses:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/courses");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),getCourseDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/courses/detail/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),createCourse:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/courses/create/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),editCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/courses/edit/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),deleteCourse:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/courses/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ae={getAllCategories:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),getCategoryDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/categories/detail/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),createCategory:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/categories/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),editCategory:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/categories/edit/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/categories/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},se={margin:"100px"},ce={paddingBottom:"10px"},oe=function(e){var t=Object(a.useContext)(h).user,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),m=Object(b.a)(d,2),p=m[0],x=m[1],f=Object(a.useState)(!1),O=Object(b.a)(f,2),g=O[0],v=O[1],w=Object(a.useState)(!1),y=Object(b.a)(w,2),C=y[0],N=y[1],k=Object(a.useState)([]),S=Object(b.a)(k,2),E=S[0],T=S[1],P=Object(a.useState)([]),A=Object(b.a)(P,2),H=A[0],_=A[1],F=Object(a.useState)(null),U=Object(b.a)(F,2),I=U[0],R=U[1],J=Object(a.useState)({}),L=Object(b.a)(J,2),V=L[0],M=L[1],W=Object(a.useState)({courseName:"",courseCategory:"",courseDescription:""}),z=Object(b.a)(W,2),G=z[0],q=z[1],K=Object(a.useState)(null),Q=Object(b.a)(K,2),X=Q[0],Y=Q[1];console.log(V);var Z=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){o(!1)},ie=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.getCourseDetail(t);case 2:n=e.sent,M(n.message.course);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getAllCategories();case 2:t=e.sent,_(t.message.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.getAllCourses();case 2:t=e.sent,T(t.message.courses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(e){e.preventDefault(),M(Object(u.a)(Object(u.a)({},V),{},Object(l.a)({},e.target.name,e.target.value)))},be=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:x(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){x(!1),ue(),R(null)},he=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==V.courseName){e.next=6;break}return R({mesBody:"Course Name cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==V.courseCategory){e.next=9;break}return R({mesBody:"Category cannot empty",mesError:!0}),e.abrupt("return");case 9:return e.next=11,re.editCourse(t,V);case 11:n=e.sent,r=n.message,a=n.mesError,R({mesBody:r.mesBody,mesError:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==G.courseName){e.next=6;break}return R({mesBody:"Course Name cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==G.courseCategory){e.next=9;break}return R({mesBody:"Category cannot empty",mesError:!0}),e.abrupt("return");case 9:return e.next=11,re.createCourse(G);case 11:t=e.sent,n=t.message,r=t.mesError,R({mesBody:n.mesBody,mesError:r}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){N(!1),ue(),R(null)},fe=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.deleteCourse(t);case 3:n=e.sent,r=n.message,a=n.mesError,R({mesBody:r.mesBody,mesError:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ue(),le()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:se,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Courses"}),"staff"===t.role?Object(r.jsxs)("div",{className:"input-group",style:ce,children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"search",id:"form1",name:"searchField",className:"form-control",onChange:function(e){e.preventDefault(),Y(e.target.value)},placeholder:"search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(null!==X&&""!==X){var e=E.filter((function(e){return e.courseName.includes(X)}));T(e)}},children:Object(r.jsx)("i",{className:"fas fa-search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ue()},children:Object(r.jsx)("i",{className:"fas fa-redo"})})]}):null,Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Course"}),Object(r.jsx)("th",{scope:"col",children:"Category"}),"staff"===t.role?Object(r.jsx)("th",{scope:"col",children:"Action"}):null]})}),Object(r.jsx)("tbody",{children:E.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.courseName}),Object(r.jsx)("td",{children:e.courseCategory}),"staff"===t.role?Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return Z(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)($,{item:V,show:c,handleClose:oe}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return be(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(ee,{show:p,item:V,categories:H,handleClose:de,handleChange:je,handleSubmit:function(e){return he(V._id)},message:I}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return pe(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]}),Object(r.jsx)(ne,{show:C,item:V,handleClose:xe,handleSubmit:function(e){return fe(V._id)},message:I})]}):null]},e._id)}))})]}),"staff"===t.role&&Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(){v(!0)},children:"Create"}),Object(r.jsx)(te,{show:g,categories:H,handleChange:function(e){e.preventDefault(),q(Object(u.a)(Object(u.a)({},G),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){v(!1),ue(),q({courseName:"",courseCategory:"",courseDescription:""}),R(null)},handleSubmit:me,message:I})]})})]}),Object(r.jsx)(D,{})]})},ie=function(e){var t=e.item;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Category ID:"}),"\xa0",t._id,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Catgory Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Category Description:"}),"\xa0",t.description,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},le=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.item,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Category"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Category Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",value:s.name,onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Description:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"description",className:"form-control",value:s.description,onChange:a})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},ue=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Create New Category"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Category Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course Description:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"description",className:"form-control",onChange:a})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Create"})]}),c?Object(r.jsx)(p,{message:c}):null]})},je=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Delete Category"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to delete the ",Object(r.jsx)("strong",{children:e.item.name})," category"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Delete"})]}),s?Object(r.jsx)(p,{message:s}):null]})},be={margin:"100px"},de={paddingBottom:"10px"},he=function(e){var t=Object(a.useContext)(h).user,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),m=Object(b.a)(d,2),p=m[0],x=m[1],f=Object(a.useState)(!1),O=Object(b.a)(f,2),g=O[0],v=O[1],w=Object(a.useState)(!1),y=Object(b.a)(w,2),C=y[0],N=y[1],k=Object(a.useState)([]),S=Object(b.a)(k,2),E=S[0],T=S[1],P=Object(a.useState)(null),A=Object(b.a)(P,2),H=A[0],_=A[1],F=Object(a.useState)({}),U=Object(b.a)(F,2),I=U[0],R=U[1],J=Object(a.useState)({name:"",description:""}),L=Object(b.a)(J,2),V=L[0],M=L[1],W=Object(a.useState)(null),z=Object(b.a)(W,2),G=z[0],q=z[1];console.log(V);var K=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){o(!1)},X=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getCategoryDetail(t);case 2:n=e.sent,R(n.message.category);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getAllCategories();case 2:t=e.sent,T(t.message.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){e.preventDefault(),R(Object(u.a)(Object(u.a)({},I),{},Object(l.a)({},e.target.name,e.target.value)))},$=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:x(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){x(!1),Y(),_(null)},te=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==I.name){e.next=4;break}return _({mesBody:"Category name cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,ae.editCategory(t,I);case 6:n=e.sent,r=n.message,a=n.mesError,_({mesBody:r.mesBody,mesError:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==V.name){e.next=4;break}return _({mesBody:"Category Name cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,ae.createCategory(V);case 6:t=e.sent,n=t.message,r=t.mesError,_({mesBody:n.mesBody,mesError:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){N(!1),Y(),_(null)},ce=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.deleteCategory(t);case 3:n=e.sent,r=n.message,a=n.mesError,_({mesBody:r.mesBody,mesError:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Y()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:be,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Categories"}),"staff"===t.role?Object(r.jsxs)("div",{className:"input-group",style:de,children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"search",id:"form1",name:"searchField",className:"form-control",onChange:function(e){e.preventDefault(),q(e.target.value)},placeholder:"search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(null!==G&&""!==G){var e=E.filter((function(e){return e.name.includes(G)}));T(e)}},children:Object(r.jsx)("i",{className:"fas fa-search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){Y()},children:Object(r.jsx)("i",{className:"fas fa-redo"})})]}):null,Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Id"}),Object(r.jsx)("th",{scope:"col",children:"Category Name"}),"staff"===t.role?Object(r.jsx)("th",{scope:"col",children:"Action"}):null]})}),Object(r.jsx)("tbody",{children:E.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e._id}),Object(r.jsx)("td",{children:e.name}),"staff"===t.role?Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return K(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(ie,{item:I,show:c,handleClose:Q}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return $(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(le,{show:p,item:I,handleClose:ee,handleChange:Z,handleSubmit:function(e){return te(I._id)},message:H}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return re(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]}),Object(r.jsx)(je,{show:C,item:I,handleClose:se,handleSubmit:function(e){return ce(I._id)},message:H})]}):null]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(){v(!0)},children:"Create"}),Object(r.jsx)(ue,{show:g,handleChange:function(e){e.preventDefault(),M(Object(u.a)(Object(u.a)({},V),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){v(!1),Y(),M({name:"",description:""}),_(null)},handleSubmit:ne,message:H})]})})]}),Object(r.jsx)(D,{})]})},me=function(e){var t=e.user;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Trainer Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",t.email,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",t.workingPlace,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone Number:"}),"\xa0",t.phoneNumber,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",t.type,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},pe=function(e){var t=e.user,n=e.show,a=e.handleClose,s=e.handleChange,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Trainer Account"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",value:t.name,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",Object(r.jsx)("input",{type:"email",name:"email",className:"form-control",value:t.email,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Working Place:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"workingPlace",className:"form-control",value:t.workingPlace,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Phone NumBer:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"phoneNumber",className:"form-control",value:t.phoneNumber,onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Type:"}),"\xa0",Object(r.jsxs)("select",{name:"type",onChange:s,defaultValue:t.type,children:[Object(r.jsx)("option",{value:"Internal Type",children:"Internal Type"}),Object(r.jsx)("option",{value:"External Type",children:"External Type"})]}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},xe={getAllTrainer:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),getTrainerDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),editTrainerProfile:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},fe={margin:"100px"},Oe={paddingBottom:"10px"},ge=function(e){var t=Object(a.useContext)(h).user,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),m=Object(b.a)(d,2),p=m[0],x=m[1],f=Object(a.useState)([]),O=Object(b.a)(f,2),g=O[0],v=O[1],y=Object(a.useState)(null),C=Object(b.a)(y,2),N=C[0],k=C[1],S=Object(a.useState)({}),E=Object(b.a)(S,2),T=E[0],P=E[1],A=Object(a.useState)(null),H=Object(b.a)(A,2),_=H[0],F=H[1],U=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){o(!1)},R=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getTrainerDetail(t);case 2:n=e.sent,P(n.message.trainer);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getAllTrainer();case 2:t=e.sent,v(t.message.trainers);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){e.preventDefault(),P(Object(u.a)(Object(u.a)({},T),{},Object(l.a)({},e.target.name,e.target.value)))},V=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:x(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){x(!1),J(),k(null)},W=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==T.username){e.next=6;break}return k({mesBody:"username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(!0!==isNaN(T.phoneNumber)){e.next=9;break}return k({mesBody:"phone number must be number",mesError:!0}),e.abrupt("return");case 9:return e.next=11,xe.editTrainerProfile(t,T);case 11:n=e.sent,r=n.message,a=n.mesError,k({mesBody:r.mesBody,mesError:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){J()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:fe,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Trainer"}),"staff"===t.role?Object(r.jsxs)("div",{className:"input-group",style:Oe,children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"search",id:"form1",name:"searchField",className:"form-control",onChange:function(e){e.preventDefault(),F(e.target.value)},placeholder:"search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(null!==_&&""!==_){var e=g.filter((function(e){return e.username.includes(_)}));v(e)}},children:Object(r.jsx)("i",{className:"fas fa-search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){J()},children:Object(r.jsx)("i",{className:"fas fa-redo"})})]}):null,Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:g.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.name}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return U(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(me,{user:T,show:c,handleClose:I}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return V(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(pe,{show:p,user:T,handleClose:M,handleChange:L,handleSubmit:function(e){return W(T._id)},message:N}),"\xa0",Object(r.jsxs)(w.b,{className:"btn btn-primary",to:"/home/trainer/profile/".concat(e._id,"/relatedcourses"),children:[Object(r.jsx)("i",{className:"fas fa-angle-double-right"}),"\xa0Related Courses"]})]})]},e._id)}))})]})]}),Object(r.jsx)(D,{})]})},ve=function(e){var t=e.user;return Object(r.jsxs)(y.a,{show:e.show,onHide:e.handleClose,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"User Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",t.name,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Day Of Birth:"}),"\xa0",t.dateOfBirth,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Age:"}),"\xa0",t.age,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",t.email,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Programming:"}),"\xa0",t.programming,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"TOEIC Score:"}),"\xa0",t.TOEICScore,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Experiences:"}),"\xa0",t.experienceDetails,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Department:"}),"\xa0",t.department,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})},we=function(e){var t=e.user,n=e.show,a=e.handleClose,s=e.programmings,c=e.handleChange,o=e.handleSubmit,i=e.message;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Edit Trainee Account"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",value:t.name,onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Date Of Birth:"}),"\xa0",Object(r.jsx)("label",{className:"form-control",children:t.dateOfBirth}),Object(r.jsx)("input",{type:"date",name:"dateOfBirth",className:"form-control",onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Age:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"age",className:"form-control",value:t.age,onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",Object(r.jsx)("input",{type:"email",name:"email",className:"form-control",value:t.email,onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Programming:"}),"\xa0",Object(r.jsx)("select",{name:"programming",className:"form-control",onChange:c,defaultValue:t.programming,children:s.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"TOEIC Score:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"TOEICScore",className:"form-control",value:t.TOEICScore,onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Experience Detail:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"experienceDetails",className:"form-control",value:t.experienceDetails,onChange:c}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Department:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"department",className:"form-control",value:t.department,onChange:c}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:o,children:"Save Changes"})]}),i?Object(r.jsx)(p,{message:i}):null]})},ye=function(e){var t=e.show,n=e.handleClose,a=e.programmings,s=e.handleChange,c=e.handleSubmit,o=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Create Trainee Account"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Password:"}),"\xa0",Object(r.jsx)("input",{type:"password",name:"password",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Name:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"name",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Date Of Birth:"}),"\xa0",Object(r.jsx)("input",{type:"date",name:"dateOfBirth",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Age:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"age",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Email:"}),"\xa0",Object(r.jsx)("input",{type:"email",name:"email",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Programming:"}),"\xa0",Object(r.jsxs)("select",{name:"programming",className:"form-control",onChange:s,defaultValue:"",children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Choose One"}),a.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))]}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"TOEIC Score:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"TOEICScore",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Experience Detail:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"experienceDetails",className:"form-control",onChange:s}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Department:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"experienceDetails",className:"form-control",onChange:s}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Create"})]}),o?Object(r.jsx)(p,{message:o}):null]})},Ce=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Delete Trainer Account"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to delete the ",Object(r.jsx)("strong",{children:e.user.username})," ","account"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Delete"})]}),s?Object(r.jsx)(p,{message:s}):null]})},Ne=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Trainee Account Password"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Old Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"oldPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"New Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"newPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Confirm Password:"}),"\xa0",Object(r.jsx)("input",{type:"text",name:"confirmPassword",className:"form-control",onChange:a}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Change Password"})]}),c?Object(r.jsx)(p,{message:c}):null]})},ke={getAllTrainee:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),getOptional:function(){var e=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/programmingoptional");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),getTraineeDetail:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),changeTraineePassword:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/changepassword/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),createNewTrainee:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),editTraineeAccount:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/edit/".concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),deleteTraineeAccount:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Se={margin:"100px"},Be={paddingBottom:"10px"},Ee=function(e){var t=Object(a.useContext)(h).user,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),m=Object(b.a)(d,2),p=m[0],x=m[1],f=Object(a.useState)(!1),O=Object(b.a)(f,2),g=O[0],v=O[1],y=Object(a.useState)(!1),C=Object(b.a)(y,2),N=C[0],k=C[1],S=Object(a.useState)(!1),E=Object(b.a)(S,2),T=E[0],P=E[1],A=Object(a.useState)([]),H=Object(b.a)(A,2),_=H[0],F=H[1],U=Object(a.useState)(null),I=Object(b.a)(U,2),R=I[0],J=I[1],L=Object(a.useState)({}),V=Object(b.a)(L,2),M=V[0],W=V[1],z=Object(a.useState)({dateOfBirth:"",age:"",email:"",educatation:"",programming:"",TOEICScore:"",experienceDetails:"",department:"",name:"",username:""}),G=Object(b.a)(z,2),q=G[0],K=G[1],Q=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),X=Object(b.a)(Q,2),Y=X[0],Z=X[1],$=Object(a.useState)([]),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=Object(a.useState)(null),ae=Object(b.a)(re,2),se=ae[0],ce=ae[1],oe=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){o(!1)},le=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getTraineeDetail(t);case 2:n=e.sent,W(n.message.trainee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getAllTrainee();case 2:t=e.sent,F(t.message.trainees);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(e){e.preventDefault(),W(Object(u.a)(Object(u.a)({},M),{},Object(l.a)({},e.target.name,e.target.value)))},be=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:x(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){x(!1),ue(),J(null)},he=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==M.username){e.next=6;break}return J({mesBody:"username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(!0!==isNaN(M.age)){e.next=9;break}return J({mesBody:"Age must be number",mesError:!0}),e.abrupt("return");case 9:return e.next=11,ke.editTraineeAccount(t,M);case 11:n=e.sent,r=n.message,a=n.mesError,J({mesBody:r.mesBody,mesError:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==q.username){e.next=6;break}return J({mesBody:"username cannot empty",mesError:!0}),e.abrupt("return");case 6:if(""!==q.password){e.next=11;break}return J({mesBody:"password cannot empty",mesError:!0}),e.abrupt("return");case 11:if(!0!==isNaN(q.age)){e.next=16;break}return J({mesBody:"age number must be number",mesError:!0}),e.abrupt("return");case 16:if(""!==q.programming){e.next=19;break}return J({mesBody:"programming language must be chose",mesError:!0}),e.abrupt("return");case 19:return e.next=21,ke.createNewTrainee(q);case 21:t=e.sent,n=t.message,r=t.mesError,J({mesBody:n.mesBody,mesError:r}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:k(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){k(!1),ue(),J(null)},fe=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.deleteTraineeAccount(t);case 3:n=e.sent,r=n.message,a=n.mesError,J({mesBody:r.mesBody,mesError:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){e.preventDefault(),Z(Object(u.a)(Object(u.a)({},Y),{},Object(l.a)({},e.target.name,e.target.value)))},ge=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:P(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){P(!1),ue(),J(null),Z({})},Te=function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Y.oldPassword&&Y.newPassword&&Y.confirmPassword){e.next=6;break}return J({mesBody:"fields cannot empty",mesError:!0}),e.abrupt("return");case 6:if(Y.oldPassword!==Y.newPassword){e.next=11;break}return J({mesBody:"new password cannot the same with old password",mesError:!0}),e.abrupt("return");case 11:if(Y.newPassword===Y.confirmPassword){e.next=14;break}return J({mesBody:"confirm password is wrong",mesError:!0}),e.abrupt("return");case 14:return e.next=16,ke.changeTraineePassword(t,{oldPassword:Y.oldPassword,newPassword:Y.newPassword});case 16:n=e.sent,r=n.message,a=n.mesError,J({mesBody:r.mesBody,mesError:a}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getOptional();case 2:t=e.sent,ne(t.message.programmings);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ue(),Pe()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:Se,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"All Trainee"}),"staff"===t.role?Object(r.jsxs)("div",{className:"input-group",style:Be,children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"search",id:"form1",name:"searchField",className:"form-control",onChange:function(e){e.preventDefault(),ce(e.target.value)},placeholder:"search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(null!==se&&""!==se){var e=_.filter((function(e){return e.username.includes(se)}));F(e)}},children:Object(r.jsx)("i",{className:"fas fa-search"})}),"\xa0",Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ue()},children:Object(r.jsx)("i",{className:"fas fa-redo"})})]}):null,Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Programming Language"}),Object(r.jsx)("th",{scope:"col",children:"TOEIC Score"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:_.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.programming}),Object(r.jsx)("td",{children:e.TOEICScore}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return oe(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(ve,{user:M,show:c,handleClose:ie}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return be(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Edit"]}),Object(r.jsx)(we,{show:p,programmings:te,user:M,handleClose:de,handleChange:je,handleSubmit:function(e){return he(M._id)},message:R}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return pe(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Delete"]}),Object(r.jsx)(Ce,{show:N,user:M,handleClose:xe,handleSubmit:function(e){return fe(M._id)},message:R}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-warning",onClick:function(t){return ge(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-key"}),"\xa0Change Password"]}),Object(r.jsx)(Ne,{show:T,handleChange:Oe,handleClose:Ee,handleSubmit:function(){return Te(M._id)},message:R}),"\xa0",Object(r.jsxs)(w.b,{className:"btn btn-primary",to:"/home/trainee/profile/".concat(e._id,"/relatedcourses"),children:[Object(r.jsx)("i",{className:"fas fa-angle-double-right"}),"\xa0Related Courses"]})]})]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(e){v(!0)},children:"Create"}),Object(r.jsx)(ye,{show:g,programmings:te,handleChange:function(e){e.preventDefault(),K(Object(u.a)(Object(u.a)({},q),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){v(!1),ue(),K({dateOfBirth:"",age:"",email:"",educatation:"",programming:"",TOEICScore:"",experienceDetails:"",department:"",name:"",username:""}),J(null)},handleSubmit:me,message:R})]})})]}),Object(r.jsx)(D,{})]})},Te=function(e){var t=e.component,n=(e.roles,Object(f.a)(e,["component","roles"])),s=Object(a.useContext)(h),c=s.isAuthenticated,o=s.user;return Object(r.jsx)(O.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return c?"admin"===o.role?Object(r.jsx)(O.a,{to:{pathname:"/admin",state:e.location}}):Object(r.jsx)(O.a,{to:{pathname:"/home",state:e.location}}):Object(r.jsx)(t,Object(u.a)({},e))}}))},Pe=function(e){var t=Object(a.useContext)(h).user,n=Object(O.g)();return Object(r.jsx)("div",{className:"container",style:{margin:"300px"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)("div",{className:"error-template",children:[Object(r.jsx)("h1",{children:"Oops!"}),Object(r.jsx)("h2",{children:"404 Not Found"}),Object(r.jsxs)("div",{className:"error-details",children:["This url ",Object(r.jsx)("strong",{children:n.pathname})," is invalid"]}),Object(r.jsx)("div",{className:"error-actions",children:"admin"===t.role?Object(r.jsxs)("a",{href:"http://localhost:3000/admin",className:"btn btn-primary btn-lg",children:[Object(r.jsx)("i",{className:"fas fa-home"}),"Take Me Home"]}):Object(r.jsxs)("a",{href:"http://localhost:3000/home",className:"btn btn-primary btn-lg",children:[Object(r.jsx)("i",{className:"fas fa-home"}),"Take Me Home"]})})]})})})})},De=function(e){var t=e.item,n=e.handleClose,a=e.show;return Object(r.jsxs)(y.a,{show:a,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Assigned Course Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",t.courseName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Category:"}),"\xa0",t.categoryName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Description:"}),"\xa0",t.courseDescription,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"})})]})},Ae=function(e){var t=e.item,n=e.show,a=e.handleClose,s=e.handleChange,c=e.handleSubmit,o=e.message,i=e.courses;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Assigned Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",Object(r.jsx)("text",{className:"form-control",children:t.username}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",Object(r.jsx)("select",{className:"form-control",name:"courseName",onChange:s,defaultValue:t.courseName,children:i.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},He=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message,o=e.courses;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Assign New Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",Object(r.jsxs)("select",{className:"form-control",name:"courseName",onChange:a,defaultValue:"",children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Choose One"}),Object(r.jsx)("option",{disabled:!0,children:"Choose One"}),o.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Assign"})]}),c?Object(r.jsx)(p,{message:c}):null]})},_e=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Remove Assigned Course"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to remove the ",Object(r.jsx)("strong",{children:e.item.courseName})," ","from this account"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Remove"})]}),s?Object(r.jsx)(p,{message:s}):null]})},Fe={getAllReatedCourses:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),getRelatedCourseDetail:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses/detail/").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),getDataSelection:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses/dataoptional"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),assignNewCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses/assign"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),changeAssignedCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n,r){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses/change/").concat(n),{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),removeAssignedCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainers/profile/".concat(t,"/relatedcourses/remove/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},Ue={margin:"100px"},Ie=function(e){var t=Object(O.h)().userId,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),h=Object(b.a)(d,2),m=h[0],p=h[1],x=Object(a.useState)(!1),f=Object(b.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)(!1),C=Object(b.a)(y,2),N=C[0],k=C[1],S=Object(a.useState)([]),E=Object(b.a)(S,2),T=E[0],P=E[1],A=Object(a.useState)(null),H=Object(b.a)(A,2),_=H[0],F=H[1],U=Object(a.useState)({}),I=Object(b.a)(U,2),R=I[0],J=I[1],L=Object(a.useState)({courseName:""}),V=Object(b.a)(L,2),M=V[0],W=V[1],z=Object(a.useState)([]),G=Object(b.a)(z,2),q=G[0],K=G[1];console.log(M);var Q=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){o(!1)},Y=function(){var e=Object(j.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getRelatedCourseDetail(t,n);case 2:r=e.sent,J(r.message.relatedCourse);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getAllReatedCourses(t);case 2:n=e.sent,P(n.message.relatedCourses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getDataSelection(t);case 2:n=e.sent,K(n.message.courses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){e.preventDefault(),J(Object(u.a)(Object(u.a)({},R),{},Object(l.a)({},e.target.name,e.target.value)))},te=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:p(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){p(!1),Z(),F(null)},re=function(){var e=Object(j.a)(i.a.mark((function e(n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==R.courseName){e.next=4;break}return F({mesBody:"Course cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,Fe.changeAssignedCourse(t,n,R);case 6:r=e.sent,a=r.message,s=r.mesError,F({mesBody:a.mesBody,mesError:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==M.courseName){e.next=4;break}return F({mesBody:"Course cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,Fe.assignNewCourse(t,M);case 6:n=e.sent,r=n.message,a=n.mesError,F({mesBody:r.mesBody,mesError:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:k(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){k(!1),Z(),F(null)},oe=function(){var e=Object(j.a)(i.a.mark((function e(n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.removeAssignedCourse(t,n);case 3:r=e.sent,a=r.message,s=r.mesError,F({mesBody:a.mesBody,mesError:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Z(),$()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:Ue,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"Trainer Related Courses"}),Object(r.jsxs)(w.b,{to:"/home/trainer",className:"btn btn-secondary",children:[Object(r.jsx)("i",{className:"fas fa-backward"})," Back to Trainer Page"]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Course"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:T.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.courseName}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return Q(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(De,{item:R,show:c,handleClose:X}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return te(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Change Assigned Course"]}),Object(r.jsx)(Ae,{show:m,item:R,courses:q,handleClose:ne,handleChange:ee,handleSubmit:function(e){return re(R._id)},message:_}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return se(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Remove Assigned Course"]}),Object(r.jsx)(_e,{show:N,item:R,handleClose:ce,handleSubmit:function(e){return oe(R._id)},message:_})]})]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(e){v(!0)},children:"Assgin New Course"}),Object(r.jsx)(He,{show:g,courses:q,handleChange:function(e){e.preventDefault(),W(Object(u.a)(Object(u.a)({},M),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){v(!1),Z(),W({courseName:""}),F(null)},handleSubmit:ae,message:_})]})})]}),Object(r.jsx)(D,{})]})},Re=function(e){var t=e.item,n=e.handleClose,a=e.show;return Object(r.jsxs)(y.a,{show:a,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Assigned Course Detail"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",t.username,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",t.courseName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Category:"}),"\xa0",t.categoryName,Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Description:"}),"\xa0",t.courseDescription,Object(r.jsx)("br",{})]}),Object(r.jsx)(y.a.Footer,{children:Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"})})]})},Je=function(e){var t=e.item,n=e.show,a=e.handleClose,s=e.handleChange,c=e.handleSubmit,o=e.message,i=e.courses;return Object(r.jsxs)(y.a,{show:n,onHide:a,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Change Assigned Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Username:"}),"\xa0",Object(r.jsx)("text",{className:"form-control",children:t.username}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",Object(r.jsx)("select",{className:"form-control",name:"courseName",onChange:s,defaultValue:t.courseName,children:i.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:a,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:c,children:"Save Changes"})]}),o?Object(r.jsx)(p,{message:o}):null]})},Le=function(e){var t=e.show,n=e.handleClose,a=e.handleChange,s=e.handleSubmit,c=e.message,o=e.courses;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Assign New Course"})}),Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)("label",{className:"font-weight-bold",children:"Course:"}),"\xa0",Object(r.jsxs)("select",{className:"form-control",name:"courseName",onChange:a,defaultValue:"",children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Choose One"}),o.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:n,children:"Close"}),Object(r.jsx)(C.a,{variant:"primary",onClick:s,children:"Assign"})]}),c?Object(r.jsx)(p,{message:c}):null]})},Ve=function(e){var t=e.show,n=e.handleClose,a=e.handleSubmit,s=e.message;return Object(r.jsxs)(y.a,{show:t,onHide:n,children:[Object(r.jsx)(y.a.Header,{closeButton:!0,children:Object(r.jsx)(y.a.Title,{children:"Remove Assigned Course"})}),Object(r.jsx)(y.a.Body,{children:Object(r.jsxs)("h4",{children:["Do you want to remove the ",Object(r.jsx)("strong",{children:e.item.courseName})," ","from this account"]})}),Object(r.jsxs)(y.a.Footer,{children:[Object(r.jsx)(C.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(r.jsx)(C.a,{variant:"danger",onClick:a,children:"Remove"})]}),s?Object(r.jsx)(p,{message:s}):null]})},Me={getAllReatedCourses:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),getRelatedCourseDetail:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses/detail/").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),getDataSelection:function(){var e=Object(j.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses/dataoptional"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),assignNewCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses/assign"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),changeAssignedCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n,r){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses/change/").concat(n),{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),removeAssignedCourse:function(){var e=Object(j.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tam-application.studio/api/home/trainees/profile/".concat(t,"/relatedcourses/remove/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},We={margin:"100px"},ze=function(e){var t=Object(O.h)().userId,n=Object(a.useState)(!1),s=Object(b.a)(n,2),c=s[0],o=s[1],d=Object(a.useState)(!1),h=Object(b.a)(d,2),m=h[0],p=h[1],x=Object(a.useState)(!1),f=Object(b.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)(!1),C=Object(b.a)(y,2),N=C[0],k=C[1],S=Object(a.useState)([]),E=Object(b.a)(S,2),T=E[0],P=E[1],A=Object(a.useState)(null),H=Object(b.a)(A,2),_=H[0],F=H[1],U=Object(a.useState)({}),I=Object(b.a)(U,2),R=I[0],J=I[1],L=Object(a.useState)({courseName:""}),V=Object(b.a)(L,2),M=V[0],W=V[1],z=Object(a.useState)([]),G=Object(b.a)(z,2),q=G[0],K=G[1];console.log(M);var Q=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){o(!1)},Y=function(){var e=Object(j.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getRelatedCourseDetail(t,n);case 2:r=e.sent,J(r.message.relatedCourse);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getAllReatedCourses(t);case 2:n=e.sent,P(n.message.relatedCourses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getDataSelection(t);case 2:n=e.sent,K(n.message.courses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){e.preventDefault(),J(Object(u.a)(Object(u.a)({},R),{},Object(l.a)({},e.target.name,e.target.value)))},te=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:p(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){p(!1),Z(),F(null)},re=function(){var e=Object(j.a)(i.a.mark((function e(n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==R.courseName){e.next=4;break}return F({mesBody:"Course cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,Me.changeAssignedCourse(t,n,R);case 6:r=e.sent,a=r.message,s=r.mesError,F({mesBody:a.mesBody,mesError:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==M.courseName){e.next=4;break}return F({mesBody:"Course cannot empty",mesError:!0}),e.abrupt("return");case 4:return e.next=6,Me.assignNewCourse(t,M);case 6:n=e.sent,r=n.message,a=n.mesError,F({mesBody:r.mesBody,mesError:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:k(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){k(!1),Z(),F(null)},oe=function(){var e=Object(j.a)(i.a.mark((function e(n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.removeAssignedCourse(t,n);case 3:r=e.sent,a=r.message,s=r.mesError,F({mesBody:a.mesBody,mesError:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Z(),$()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)("div",{style:We,children:[Object(r.jsx)("h1",{className:"text-center font-weight-bold text-dark",children:"Trainee Related Courses"}),Object(r.jsxs)(w.b,{to:"/home/trainee",className:"btn btn-secondary",children:[Object(r.jsx)("i",{className:"fas fa-backward"})," Back to Trainee Page"]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"User Name"}),Object(r.jsx)("th",{scope:"col",children:"Course"}),Object(r.jsx)("th",{scope:"col",children:"Action"})]})}),Object(r.jsx)("tbody",{children:T.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.courseName}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("button",{className:"btn btn-info",onClick:function(t){return Q(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-info"}),"\xa0Detail"]}),Object(r.jsx)(Re,{item:R,show:c,handleClose:X}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-success",onClick:function(t){return te(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-edit"}),"\xa0Change Assigned Course"]}),Object(r.jsx)(Je,{show:m,item:R,courses:q,handleClose:ne,handleChange:ee,handleSubmit:function(e){return re(R._id)},message:_}),"\xa0",Object(r.jsxs)("button",{className:"btn btn-danger",onClick:function(t){return se(e._id)},children:[Object(r.jsx)("i",{className:"fas fa-trash"}),"\xa0Remove Assigned Course"]}),Object(r.jsx)(Ve,{show:N,item:R,handleClose:ce,handleSubmit:function(e){return oe(R._id)},message:_})]})]},e._id)}))})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("button",{className:"btn btn-primary","data-toggle":"modal",onClick:function(e){v(!0)},children:"Assgin New Course"}),Object(r.jsx)(Le,{show:g,courses:q,handleChange:function(e){e.preventDefault(),W(Object(u.a)(Object(u.a)({},M),{},Object(l.a)({},e.target.name,e.target.value)))},handleClose:function(){v(!1),Z(),W({courseName:""}),F(null)},handleSubmit:ae,message:_})]})})]}),Object(r.jsx)(D,{})]})};var Ge=function(){return Object(r.jsx)(w.a,{children:Object(r.jsxs)(O.d,{children:[Object(r.jsx)(Te,{path:"/",component:x,exact:!0}),Object(r.jsx)(v,{path:"/admin",roles:["admin"],component:A,exact:!0}),Object(r.jsx)(v,{path:"/home",roles:["staff","trainer","trainee"],component:H,exact:!0}),Object(r.jsx)(v,{path:"/admin/trainer",roles:["admin"],component:V,exact:!0}),Object(r.jsx)(v,{path:"/admin/staff",roles:["admin"],component:Q,exact:!0}),Object(r.jsx)(v,{path:"/home/relatedcourses",roles:["trainer","trainee"],component:Z,exact:!0}),Object(r.jsx)(v,{path:"/home/courses",roles:["staff","trainee"],component:oe,exact:!0}),Object(r.jsx)(v,{path:"/home/categories",roles:["staff"],component:he,exact:!0}),Object(r.jsx)(v,{path:"/home/trainer",roles:["staff"],component:ge,exact:!0}),Object(r.jsx)(v,{path:"/home/trainee",roles:["staff"],component:Ee,exact:!0}),Object(r.jsx)(v,{path:"/home/trainer/profile/:userId/relatedcourses",roles:["staff"],component:Ie,exact:!0}),Object(r.jsx)(v,{path:"/home/trainee/profile/:userId/relatedcourses",roles:["staff"],component:ze,exact:!0}),Object(r.jsx)(O.b,{path:"*",component:Pe})]})})};c.a.render(Object(r.jsx)(m,{children:Object(r.jsx)(Ge,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.f24095de.chunk.js.map